function init(){function t(){var t=$("#date").data("ionRangeSlider"),e=t.result.from,i=t.result.to;console.log("Søk fra "+e+" til "+i)}$("#date").ionRangeSlider({type:"double",grid:!0,grid_num:10,force_edges:!0,min:1155694292,max:+moment().format("X"),from:1167609600,prettify:function(t){return moment(t,"X").locale("nb-no").format("MMMM Y")},onFinish:t}),$(".nyheter").waypoint(function(t){"down"===t?$(".breadcrumbs").addClass("visible"):$(".breadcrumbs").removeClass("visible")},{offset:"15%"}),$(".footer").waypoint(function(t){"down"===t?($(".breadcrumbs").removeClass("visible"),$(".search-header").addClass("hidden")):$(".search-header").removeClass("hidden")},{offset:"15%"})}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return ds.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return"[object Object]"===Object.prototype.toString.call(t)}function s(t){var e;for(e in t)return!1;return!0}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function n(t,e){var i,s=[];for(i=0;i<t.length;++i)s.push(e(t[i],i));return s}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var i in e)r(e,i)&&(t[i]=e[i]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,i,s){return _e(t,e,i,s,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function c(t){return null==t._pf&&(t._pf=l()),t._pf}function d(t){if(null==t._isValid){var e=c(t),i=us.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function u(t){var e=h(NaN);return null!=t?a(c(e),t):c(e).userInvalidated=!0,e}function f(t){return void 0===t}function p(t,e){var i,s,o;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=c(e)),f(e._locale)||(t._locale=e._locale),fs.length>0)for(i in fs)s=fs[i],o=e[s],f(o)||(t[s]=o);return t}function _(e){p(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===ps&&(ps=!0,t.updateOffset(this),ps=!1)}function m(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function g(t){return 0>t?Math.ceil(t)||0:Math.floor(t)}function y(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=g(e)),i}function v(t,e,i){var s,o=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),r=0;for(s=0;o>s;s++)(i&&t[s]!==e[s]||!i&&y(t[s])!==y(e[s]))&&r++;return r+n}function w(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function b(e,i){var s=!0;return a(function(){return null!=t.deprecationHandler&&t.deprecationHandler(null,e),s&&(w(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),s=!1),i.apply(this,arguments)},i)}function x(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),_s[e]||(w(i),_s[e]=!0)}function k(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function S(t){var e,i;for(i in t)e=t[i],k(e)?this[i]=e:this["_"+i]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function M(t,e){var s,o=a({},t);for(s in e)r(e,s)&&(i(t[s])&&i(e[s])?(o[s]={},a(o[s],t[s]),a(o[s],e[s])):null!=e[s]?o[s]=e[s]:delete o[s]);for(s in t)r(t,s)&&!r(e,s)&&i(t[s])&&(o[s]=a({},o[s]));return o}function D(t){null!=t&&this.set(t)}function T(t,e,i){var s=this._calendar[t]||this._calendar.sameElse;return k(s)?s.call(e,i):s}function $(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function Y(){return this._invalidDate}function P(t){return this._ordinal.replace("%d",t)}function F(t,e,i,s){var o=this._relativeTime[i];return k(o)?o(t,e,i,s):o.replace(/%d/i,t)}function C(t,e){var i=this._relativeTime[t>0?"future":"past"];return k(i)?i(e):i.replace(/%s/i,e)}function O(t,e){var i=t.toLowerCase();xs[i]=xs[i+"s"]=xs[e]=t}function R(t){return"string"==typeof t?xs[t]||xs[t.toLowerCase()]:void 0}function W(t){var e,i,s={};for(i in t)r(t,i)&&(e=R(i))&&(s[e]=t[i]);return s}function L(t,e){ks[t]=e}function A(t){var e=[];for(var i in t)e.push({unit:i,priority:ks[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}function E(e,i){return function(s){return null!=s?(U(this,e,s),t.updateOffset(this,i),this):H(this,e)}}function H(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function U(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function N(t){return t=R(t),k(this[t])?this[t]():this}function j(t,e){if("object"==typeof t){t=W(t);for(var i=A(t),s=0;s<i.length;s++)this[i[s].unit](t[i[s].unit])}else if(t=R(t),k(this[t]))return this[t](e);return this}function I(t,e,i){var s=""+Math.abs(t),o=e-s.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+s}function G(t,e,i,s){var o=s;"string"==typeof s&&(o=function(){return this[s]()}),t&&(Ts[t]=o),e&&(Ts[e[0]]=function(){return I(o.apply(this,arguments),e[1],e[2])}),i&&(Ts[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function z(t){var e,i,s=t.match(Ss);for(e=0,i=s.length;i>e;e++)Ts[s[e]]?s[e]=Ts[s[e]]:s[e]=V(s[e]);return function(e){var o,n="";for(o=0;i>o;o++)n+=s[o]instanceof Function?s[o].call(e,t):s[o];return n}}function q(t,e){return t.isValid()?(e=B(e,t.localeData()),Ds[e]=Ds[e]||z(e),Ds[e](t)):t.localeData().invalidDate()}function B(t,e){function i(t){return e.longDateFormat(t)||t}var s=5;for(Ms.lastIndex=0;s>=0&&Ms.test(t);)t=t.replace(Ms,i),Ms.lastIndex=0,s-=1;return t}function Z(t,e,i){Vs[t]=k(e)?e:function(t,s){return t&&i?i:e}}function Q(t,e){return r(Vs,t)?Vs[t](e._strict,e._locale):new RegExp(X(t))}function X(t){return K(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,s,o){return e||i||s||o}))}function K(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t,e){var i,s=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(s=function(t,i){i[e]=y(t)}),i=0;i<t.length;i++)zs[t[i]]=s}function tt(t,e){J(t,function(t,i,s,o){s._w=s._w||{},e(t,s._w,s,o)})}function et(t,e,i){null!=e&&r(zs,t)&&zs[t](e,i._a,i,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function st(t,i){return e(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||io).test(i)?"format":"standalone"][t.month()]}function ot(t,i){return e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[io.test(i)?"format":"standalone"][t.month()]}function nt(t,e,i){var s,o,n,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;12>s;++s)n=h([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(n,"").toLocaleLowerCase();return i?"MMM"===e?(o=gs.call(this._shortMonthsParse,r),-1!==o?o:null):(o=gs.call(this._longMonthsParse,r),-1!==o?o:null):"MMM"===e?(o=gs.call(this._shortMonthsParse,r),-1!==o?o:(o=gs.call(this._longMonthsParse,r),-1!==o?o:null)):(o=gs.call(this._longMonthsParse,r),-1!==o?o:(o=gs.call(this._shortMonthsParse,r),-1!==o?o:null))}function rt(t,e,i){var s,o,n;if(this._monthsParseExact)return nt.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;12>s;s++){if(o=h([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[s]||(n="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[s]=new RegExp(n.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[s].test(t))return s;if(i&&"MMM"===e&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}}function at(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=y(e);else if("number"!=typeof(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function ht(e){return null!=e?(at(this,e),t.updateOffset(this,!0),this):H(this,"Month")}function lt(){return it(this.year(),this.month())}function ct(t){return this._monthsParseExact?(r(this,"_monthsRegex")||ut.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(r(this,"_monthsShortRegex")||(this._monthsShortRegex=no),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(t){return this._monthsParseExact?(r(this,"_monthsRegex")||ut.call(this),t?this._monthsStrictRegex:this._monthsRegex):(r(this,"_monthsRegex")||(this._monthsRegex=ro),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ut(){function t(t,e){return e.length-t.length}var e,i,s=[],o=[],n=[];for(e=0;12>e;e++)i=h([2e3,e]),s.push(this.monthsShort(i,"")),o.push(this.months(i,"")),n.push(this.months(i,"")),n.push(this.monthsShort(i,""));for(s.sort(t),o.sort(t),n.sort(t),e=0;12>e;e++)s[e]=K(s[e]),o[e]=K(o[e]);for(e=0;24>e;e++)n[e]=K(n[e]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ft(t){return pt(t)?366:365}function pt(t){return t%4==0&&t%100!=0||t%400==0}function _t(){return pt(this.year())}function mt(t,e,i,s,o,n,r){var a=new Date(t,e,i,s,o,n,r);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function gt(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function yt(t,e,i){var s=7+e-i;return-(7+gt(t,0,s).getUTCDay()-e)%7+s-1}function vt(t,e,i,s,o){var n,r,a=(7+i-s)%7,h=yt(t,s,o),l=1+7*(e-1)+a+h;return 0>=l?(n=t-1,r=ft(n)+l):l>ft(t)?(n=t+1,r=l-ft(t)):(n=t,r=l),{year:n,dayOfYear:r}}function wt(t,e,i){var s,o,n=yt(t.year(),e,i),r=Math.floor((t.dayOfYear()-n-1)/7)+1;return 1>r?(o=t.year()-1,s=r+bt(o,e,i)):r>bt(t.year(),e,i)?(s=r-bt(t.year(),e,i),o=t.year()+1):(o=t.year(),s=r),{week:s,year:o}}function bt(t,e,i){var s=yt(t,e,i),o=yt(t+1,e,i);return(ft(t)-s+o)/7}function xt(t){return wt(t,this._week.dow,this._week.doy).week}function kt(){return this._week.dow}function St(){return this._week.doy}function Mt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Dt(t){var e=wt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Tt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function $t(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Yt(t,i){return e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(i)?"format":"standalone"][t.day()]}function Pt(t){return this._weekdaysShort[t.day()]}function Ft(t){return this._weekdaysMin[t.day()]}function Ct(t,e,i){var s,o,n,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;7>s;++s)n=h([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(n,"").toLocaleLowerCase();return i?"dddd"===e?(o=gs.call(this._weekdaysParse,r),-1!==o?o:null):"ddd"===e?(o=gs.call(this._shortWeekdaysParse,r),-1!==o?o:null):(o=gs.call(this._minWeekdaysParse,r),-1!==o?o:null):"dddd"===e?(o=gs.call(this._weekdaysParse,r),-1!==o?o:(o=gs.call(this._shortWeekdaysParse,r),-1!==o?o:(o=gs.call(this._minWeekdaysParse,r),-1!==o?o:null))):"ddd"===e?(o=gs.call(this._shortWeekdaysParse,r),-1!==o?o:(o=gs.call(this._weekdaysParse,r),-1!==o?o:(o=gs.call(this._minWeekdaysParse,r),-1!==o?o:null))):(o=gs.call(this._minWeekdaysParse,r),-1!==o?o:(o=gs.call(this._weekdaysParse,r),-1!==o?o:(o=gs.call(this._shortWeekdaysParse,r),-1!==o?o:null)))}function Ot(t,e,i){var s,o,n;if(this._weekdaysParseExact)return Ct.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;7>s;s++){if(o=h([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(n="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[s]=new RegExp(n.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[s].test(t))return s;if(i&&"ddd"===e&&this._shortWeekdaysParse[s].test(t))return s;if(i&&"dd"===e&&this._minWeekdaysParse[s].test(t))return s;if(!i&&this._weekdaysParse[s].test(t))return s}}function Rt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Tt(t,this.localeData()),this.add(t-e,"d")):e}function Wt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Lt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=$t(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function At(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(r(this,"_weekdaysRegex")||(this._weekdaysRegex=fo),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Et(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(r(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=po),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ht(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(r(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_o),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ut(){function t(t,e){return e.length-t.length}var e,i,s,o,n,r=[],a=[],l=[],c=[];for(e=0;7>e;e++)i=h([2e3,1]).day(e),s=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),n=this.weekdays(i,""),r.push(s),a.push(o),l.push(n),c.push(s),c.push(o),c.push(n);for(r.sort(t),a.sort(t),l.sort(t),c.sort(t),e=0;7>e;e++)a[e]=K(a[e]),l[e]=K(l[e]),c[e]=K(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Nt(){return this.hours()%12||12}function jt(){return this.hours()||24}function It(t,e){G(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Gt(t,e){return e._meridiemParse}function Vt(t){return"p"===(t+"").toLowerCase().charAt(0)}function zt(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function qt(t){return t?t.toLowerCase().replace("_","-"):t}function Bt(t){for(var e,i,s,o,n=0;n<t.length;){for(o=qt(t[n]).split("-"),e=o.length,i=qt(t[n+1]),i=i?i.split("-"):null;e>0;){if(s=Zt(o.slice(0,e).join("-")))return s;if(i&&i.length>=e&&v(o,i,!0)>=e-1)break;e--}n++}return null}function Zt(t){var e=null;if(!wo[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=mo._abbr,require("./locale/"+t),Qt(e)}catch(t){}return wo[t]}function Qt(t,e){var i;return t&&(i=f(e)?Jt(t):Xt(t,e))&&(mo=i),mo._abbr}function Xt(t,e){if(null!==e){var i=vo;return e.abbr=t,null!=wo[t]?(x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=wo[t]._config):null!=e.parentLocale&&(null!=wo[e.parentLocale]?i=wo[e.parentLocale]._config:x("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),wo[t]=new D(M(i,e)),Qt(t),wo[t]}return delete wo[t],null}function Kt(t,e){if(null!=e){var i,s=vo;null!=wo[t]&&(s=wo[t]._config),e=M(s,e),i=new D(e),i.parentLocale=wo[t],wo[t]=i,Qt(t)}else null!=wo[t]&&(null!=wo[t].parentLocale?wo[t]=wo[t].parentLocale:null!=wo[t]&&delete wo[t]);return wo[t]}function Jt(t){var i;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return mo;if(!e(t)){if(i=Zt(t))return i;t=[t]}return Bt(t)}function te(){return ms(wo)}function ee(t){var e,i=t._a;return i&&-2===c(t).overflow&&(e=i[Bs]<0||i[Bs]>11?Bs:i[Zs]<1||i[Zs]>it(i[qs],i[Bs])?Zs:i[Qs]<0||i[Qs]>24||24===i[Qs]&&(0!==i[Xs]||0!==i[Ks]||0!==i[Js])?Qs:i[Xs]<0||i[Xs]>59?Xs:i[Ks]<0||i[Ks]>59?Ks:i[Js]<0||i[Js]>999?Js:-1,c(t)._overflowDayOfYear&&(qs>e||e>Zs)&&(e=Zs),c(t)._overflowWeeks&&-1===e&&(e=to),c(t)._overflowWeekday&&-1===e&&(e=eo),c(t).overflow=e),t}function ie(t){var e,i,s,o,n,r,a=t._i,h=bo.exec(a)||xo.exec(a);if(h){for(c(t).iso=!0,e=0,i=So.length;i>e;e++)if(So[e][1].exec(h[1])){o=So[e][0],s=!1!==So[e][2];break}if(null==o)return void(t._isValid=!1);if(h[3]){for(e=0,i=Mo.length;i>e;e++)if(Mo[e][1].exec(h[3])){n=(h[2]||" ")+Mo[e][0];break}if(null==n)return void(t._isValid=!1)}if(!s&&null!=n)return void(t._isValid=!1);if(h[4]){if(!ko.exec(h[4]))return void(t._isValid=!1);r="Z"}t._f=o+(n||"")+(r||""),he(t)}else t._isValid=!1}function se(e){var i=Do.exec(e._i);return null!==i?void(e._d=new Date(+i[1])):(ie(e),void(!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e))))}function oe(t,e,i){return null!=t?t:null!=e?e:i}function ne(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function re(t){var e,i,s,o,n=[];if(!t._d){for(s=ne(t),t._w&&null==t._a[Zs]&&null==t._a[Bs]&&ae(t),t._dayOfYear&&(o=oe(t._a[qs],s[qs]),t._dayOfYear>ft(o)&&(c(t)._overflowDayOfYear=!0),i=gt(o,0,t._dayOfYear),t._a[Bs]=i.getUTCMonth(),t._a[Zs]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=n[e]=s[e];for(;7>e;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Qs]&&0===t._a[Xs]&&0===t._a[Ks]&&0===t._a[Js]&&(t._nextDay=!0,t._a[Qs]=0),t._d=(t._useUTC?gt:mt).apply(null,n),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Qs]=24)}}function ae(t){var e,i,s,o,n,r,a,h;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(n=1,r=4,i=oe(e.GG,t._a[qs],wt(me(),1,4).year),s=oe(e.W,1),(1>(o=oe(e.E,1))||o>7)&&(h=!0)):(n=t._locale._week.dow,r=t._locale._week.doy,i=oe(e.gg,t._a[qs],wt(me(),n,r).year),s=oe(e.w,1),null!=e.d?(0>(o=e.d)||o>6)&&(h=!0):null!=e.e?(o=e.e+n,(e.e<0||e.e>6)&&(h=!0)):o=n),1>s||s>bt(i,n,r)?c(t)._overflowWeeks=!0:null!=h?c(t)._overflowWeekday=!0:(a=vt(i,s,o,n,r),t._a[qs]=a.year,t._dayOfYear=a.dayOfYear)}function he(e){if(e._f===t.ISO_8601)return void ie(e);e._a=[],c(e).empty=!0;var i,s,o,n,r,a=""+e._i,h=a.length,l=0;for(o=B(e._f,e._locale).match(Ss)||[],i=0;i<o.length;i++)n=o[i],s=(a.match(Q(n,e))||[])[0],s&&(r=a.substr(0,a.indexOf(s)),r.length>0&&c(e).unusedInput.push(r),a=a.slice(a.indexOf(s)+s.length),l+=s.length),Ts[n]?(s?c(e).empty=!1:c(e).unusedTokens.push(n),et(n,s,e)):e._strict&&!s&&c(e).unusedTokens.push(n);c(e).charsLeftOver=h-l,a.length>0&&c(e).unusedInput.push(a),e._a[Qs]<=12&&!0===c(e).bigHour&&e._a[Qs]>0&&(c(e).bigHour=void 0),c(e).parsedDateParts=e._a.slice(0),c(e).meridiem=e._meridiem,e._a[Qs]=le(e._locale,e._a[Qs],e._meridiem),re(e),ee(e)}function le(t,e,i){var s;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(s=t.isPM(i),s&&12>e&&(e+=12),s||12!==e||(e=0),e):e}function ce(t){var e,i,s,o,n;if(0===t._f.length)return c(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)n=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],he(e),d(e)&&(n+=c(e).charsLeftOver,n+=10*c(e).unusedTokens.length,c(e).score=n,(null==s||s>n)&&(s=n,i=e));a(t,i||e)}function de(t){if(!t._d){var e=W(t._i);t._a=n([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),re(t)}}function ue(t){var e=new _(ee(fe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function fe(t){var i=t._i,s=t._f;return t._locale=t._locale||Jt(t._l),null===i||void 0===s&&""===i?u({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),m(i)?new _(ee(i)):(e(s)?ce(t):o(i)?t._d=i:s?he(t):pe(t),d(t)||(t._d=null),t))}function pe(i){var s=i._i;void 0===s?i._d=new Date(t.now()):o(s)?i._d=new Date(s.valueOf()):"string"==typeof s?se(i):e(s)?(i._a=n(s.slice(0),function(t){return parseInt(t,10)}),re(i)):"object"==typeof s?de(i):"number"==typeof s?i._d=new Date(s):t.createFromInputFallback(i)}function _e(t,o,n,r,a){var h={};return"boolean"==typeof n&&(r=n,n=void 0),(i(t)&&s(t)||e(t)&&0===t.length)&&(t=void 0),h._isAMomentObject=!0,h._useUTC=h._isUTC=a,h._l=n,h._i=t,h._f=o,h._strict=r,ue(h)}function me(t,e,i,s){return _e(t,e,i,s,!1)}function ge(t,i){var s,o;if(1===i.length&&e(i[0])&&(i=i[0]),!i.length)return me();for(s=i[0],o=1;o<i.length;++o)i[o].isValid()&&!i[o][t](s)||(s=i[o]);return s}function ye(){return ge("isBefore",[].slice.call(arguments,0))}function ve(){return ge("isAfter",[].slice.call(arguments,0))}function we(t){var e=W(t),i=e.year||0,s=e.quarter||0,o=e.month||0,n=e.week||0,r=e.day||0,a=e.hour||0,h=e.minute||0,l=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*l+6e4*h+1e3*a*60*60,this._days=+r+7*n,this._months=+o+3*s+12*i,this._data={},this._locale=Jt(),this._bubble()}function be(t){return t instanceof we}function xe(t,e){G(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+I(~~(t/60),2)+e+I(~~t%60,2)})}function ke(t,e){var i=(e||"").match(t)||[],s=i[i.length-1]||[],o=(s+"").match(Po)||["-",0,0],n=60*o[1]+y(o[2]);return"+"===o[0]?n:-n}function Se(e,i){var s,n;return i._isUTC?(s=i.clone(),n=(m(e)||o(e)?e.valueOf():me(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+n),t.updateOffset(s,!1),s):me(e).local()}function Me(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function De(e,i){var s,o=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=ke(js,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&i&&(s=Me(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),o!==e&&(!i||this._changeInProgress?Ie(this,Ae(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Me(this):null!=e?this:NaN}function Te(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function $e(t){return this.utcOffset(0,t)}function Ye(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Me(this),"m")),this}function Pe(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(ke(Ns,this._i)),this}function Fe(t){return!!this.isValid()&&(t=t?me(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Ce(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Oe(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),t=fe(t),t._a){var e=t._isUTC?h(t._a):me(t._a);this._isDSTShifted=this.isValid()&&v(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Re(){return!!this.isValid()&&!this._isUTC}function We(){return!!this.isValid()&&this._isUTC}function Le(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ae(t,e){var i,s,o,n=t,a=null;return be(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(n={},e?n[e]=t:n.milliseconds=t):(a=Fo.exec(t))?(i="-"===a[1]?-1:1,n={y:0,d:y(a[Zs])*i,h:y(a[Qs])*i,m:y(a[Xs])*i,s:y(a[Ks])*i,ms:y(a[Js])*i}):(a=Co.exec(t))?(i="-"===a[1]?-1:1,n={y:Ee(a[2],i),M:Ee(a[3],i),w:Ee(a[4],i),d:Ee(a[5],i),h:Ee(a[6],i),m:Ee(a[7],i),s:Ee(a[8],i)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(o=Ue(me(n.from),me(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new we(n),be(t)&&r(t,"_locale")&&(s._locale=t._locale),s}function Ee(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function He(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Ue(t,e){var i;return t.isValid()&&e.isValid()?(e=Se(e,t),t.isBefore(e)?i=He(t,e):(i=He(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Ne(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function je(t,e){return function(i,s){var o,n;return null===s||isNaN(+s)||(x(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=i,i=s,s=n),i="string"==typeof i?+i:i,o=Ae(i,s),Ie(this,o,t),this}}function Ie(e,i,s,o){var n=i._milliseconds,r=Ne(i._days),a=Ne(i._months);e.isValid()&&(o=null==o||o,n&&e._d.setTime(e._d.valueOf()+n*s),r&&U(e,"Date",H(e,"Date")+r*s),a&&at(e,H(e,"Month")+a*s),o&&t.updateOffset(e,r||a))}function Ge(t,e){var i=t.diff(e,"days",!0);return-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse"}function Ve(e,i){var s=e||me(),o=Se(s,this).startOf("day"),n=t.calendarFormat(this,o)||"sameElse",r=i&&(k(i[n])?i[n].call(this,s):i[n]);return this.format(r||this.localeData().calendar(n,this,me(s)))}function ze(){return new _(this)}function qe(t,e){var i=m(t)?t:me(t);return!(!this.isValid()||!i.isValid())&&(e=R(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function Be(t,e){var i=m(t)?t:me(t);return!(!this.isValid()||!i.isValid())&&(e=R(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function Ze(t,e,i,s){return s=s||"()",("("===s[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===s[1]?this.isBefore(e,i):!this.isAfter(e,i))}function Qe(t,e){var i,s=m(t)?t:me(t);return!(!this.isValid()||!s.isValid())&&(e=R(e||"millisecond"),"millisecond"===e?this.valueOf()===s.valueOf():(i=s.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function Xe(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Ke(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Je(t,e,i){var s,o,n,r;return this.isValid()?(s=Se(t,this),s.isValid()?(o=6e4*(s.utcOffset()-this.utcOffset()),e=R(e),"year"===e||"month"===e||"quarter"===e?(r=ti(this,s),"quarter"===e?r/=3:"year"===e&&(r/=12)):(n=this-s,r="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-o)/864e5:"week"===e?(n-o)/6048e5:n),i?r:g(r)):NaN):NaN}function ti(t,e){var i,s,o=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(o,"months");return 0>e-n?(i=t.clone().add(o-1,"months"),s=(e-n)/(n-i)):(i=t.clone().add(o+1,"months"),s=(e-n)/(i-n)),-(o+s)||0}function ei(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ii(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?k(Date.prototype.toISOString)?this.toDate().toISOString():q(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):q(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function si(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=q(this,e);return this.localeData().postformat(i)}function oi(t,e){return this.isValid()&&(m(t)&&t.isValid()||me(t).isValid())?Ae({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ni(t){return this.from(me(),t)}function ri(t,e){return this.isValid()&&(m(t)&&t.isValid()||me(t).isValid())?Ae({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ai(t){return this.to(me(),t)}function hi(t){var e;return void 0===t?this._locale._abbr:(e=Jt(t),null!=e&&(this._locale=e),this)}function li(){return this._locale}function ci(t){switch(t=R(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function di(t){return t=R(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function ui(){return this._d.valueOf()-6e4*(this._offset||0)}function fi(){return Math.floor(this.valueOf()/1e3)}function pi(){return new Date(this.valueOf())}function _i(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function mi(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function gi(){return this.isValid()?this.toISOString():null}function yi(){return d(this)}function vi(){return a({},c(this))}function wi(){return c(this).overflow}function bi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xi(t,e){G(0,[t,t.length],0,e)}function ki(t){return Ti.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Si(t){return Ti.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Mi(){return bt(this.year(),1,4)}function Di(){var t=this.localeData()._week;return bt(this.year(),t.dow,t.doy)}function Ti(t,e,i,s,o){var n;return null==t?wt(this,s,o).year:(n=bt(t,s,o),e>n&&(e=n),$i.call(this,t,e,i,s,o))}function $i(t,e,i,s,o){var n=vt(t,e,i,s,o),r=gt(n.year,0,n.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Yi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Pi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Fi(t,e){e[Js]=y(1e3*("0."+t))}function Ci(){return this._isUTC?"UTC":""}function Oi(){return this._isUTC?"Coordinated Universal Time":""}function Ri(t){return me(1e3*t)}function Wi(){return me.apply(null,arguments).parseZone()}function Li(t){return t}function Ai(t,e,i,s){var o=Jt(),n=h().set(s,e);return o[i](n,t)}function Ei(t,e,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Ai(t,e,i,"month");var s,o=[];for(s=0;12>s;s++)o[s]=Ai(t,s,i,"month");return o}function Hi(t,e,i,s){"boolean"==typeof t?("number"==typeof e&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,"number"==typeof e&&(i=e,e=void 0),e=e||"");var o=Jt(),n=t?o._week.dow:0;if(null!=i)return Ai(e,(i+n)%7,s,"day");var r,a=[];for(r=0;7>r;r++)a[r]=Ai(e,(r+n)%7,s,"day");return a}
function Ui(t,e){return Ei(t,e,"months")}function Ni(t,e){return Ei(t,e,"monthsShort")}function ji(t,e,i){return Hi(t,e,i,"weekdays")}function Ii(t,e,i){return Hi(t,e,i,"weekdaysShort")}function Gi(t,e,i){return Hi(t,e,i,"weekdaysMin")}function Vi(){var t=this._data;return this._milliseconds=Go(this._milliseconds),this._days=Go(this._days),this._months=Go(this._months),t.milliseconds=Go(t.milliseconds),t.seconds=Go(t.seconds),t.minutes=Go(t.minutes),t.hours=Go(t.hours),t.months=Go(t.months),t.years=Go(t.years),this}function zi(t,e,i,s){var o=Ae(e,i);return t._milliseconds+=s*o._milliseconds,t._days+=s*o._days,t._months+=s*o._months,t._bubble()}function qi(t,e){return zi(this,t,e,1)}function Bi(t,e){return zi(this,t,e,-1)}function Zi(t){return 0>t?Math.floor(t):Math.ceil(t)}function Qi(){var t,e,i,s,o,n=this._milliseconds,r=this._days,a=this._months,h=this._data;return n>=0&&r>=0&&a>=0||0>=n&&0>=r&&0>=a||(n+=864e5*Zi(Ki(a)+r),r=0,a=0),h.milliseconds=n%1e3,t=g(n/1e3),h.seconds=t%60,e=g(t/60),h.minutes=e%60,i=g(e/60),h.hours=i%24,r+=g(i/24),o=g(Xi(r)),a+=o,r-=Zi(Ki(o)),s=g(a/12),a%=12,h.days=r,h.months=a,h.years=s,this}function Xi(t){return 4800*t/146097}function Ki(t){return 146097*t/4800}function Ji(t){var e,i,s=this._milliseconds;if("month"===(t=R(t))||"year"===t)return e=this._days+s/864e5,i=this._months+Xi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Ki(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return 24*e+s/36e5;case"minute":return 1440*e+s/6e4;case"second":return 86400*e+s/1e3;case"millisecond":return Math.floor(864e5*e)+s;default:throw new Error("Unknown unit "+t)}}function ts(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function es(t){return function(){return this.as(t)}}function is(t){return t=R(t),this[t+"s"]()}function ss(t){return function(){return this._data[t]}}function os(){return g(this.days()/7)}function ns(t,e,i,s,o){return o.relativeTime(e||1,!!i,t,s)}function rs(t,e,i){var s=Ae(t).abs(),o=an(s.as("s")),n=an(s.as("m")),r=an(s.as("h")),a=an(s.as("d")),h=an(s.as("M")),l=an(s.as("y")),c=o<hn.s&&["s",o]||1>=n&&["m"]||n<hn.m&&["mm",n]||1>=r&&["h"]||r<hn.h&&["hh",r]||1>=a&&["d"]||a<hn.d&&["dd",a]||1>=h&&["M"]||h<hn.M&&["MM",h]||1>=l&&["y"]||["yy",l];return c[2]=e,c[3]=+t>0,c[4]=i,ns.apply(null,c)}function as(t){return void 0===t?an:"function"==typeof t&&(an=t,!0)}function hs(t,e){return void 0!==hn[t]&&(void 0===e?hn[t]:(hn[t]=e,!0))}function ls(t){var e=this.localeData(),i=rs(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function cs(){var t,e,i,s=ln(this._milliseconds)/1e3,o=ln(this._days),n=ln(this._months);t=g(s/60),e=g(t/60),s%=60,t%=60,i=g(n/12),n%=12;var r=i,a=n,h=o,l=e,c=t,d=s,u=this.asSeconds();return u?(0>u?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(h?h+"D":"")+(l||c||d?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var ds,us;us=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,s=0;i>s;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};var fs=t.momentProperties=[],ps=!1,_s={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var ms;ms=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)r(t,e)&&i.push(e);return i};var gs,ys={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},vs={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ws=/\d{1,2}/,bs={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},xs={},ks={},Ss=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ms=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ds={},Ts={},$s=/\d/,Ys=/\d\d/,Ps=/\d{3}/,Fs=/\d{4}/,Cs=/[+-]?\d{6}/,Os=/\d\d?/,Rs=/\d\d\d\d?/,Ws=/\d\d\d\d\d\d?/,Ls=/\d{1,3}/,As=/\d{1,4}/,Es=/[+-]?\d{1,6}/,Hs=/\d+/,Us=/[+-]?\d+/,Ns=/Z|[+-]\d\d:?\d\d/gi,js=/Z|[+-]\d\d(?::?\d\d)?/gi,Is=/[+-]?\d+(\.\d{1,3})?/,Gs=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Vs={},zs={},qs=0,Bs=1,Zs=2,Qs=3,Xs=4,Ks=5,Js=6,to=7,eo=8;gs=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),G("MMMM",0,0,function(t){return this.localeData().months(this,t)}),O("month","M"),L("month",8),Z("M",Os),Z("MM",Os,Ys),Z("MMM",function(t,e){return e.monthsShortRegex(t)}),Z("MMMM",function(t,e){return e.monthsRegex(t)}),J(["M","MM"],function(t,e){e[Bs]=y(t)-1}),J(["MMM","MMMM"],function(t,e,i,s){var o=i._locale.monthsParse(t,s,i._strict);null!=o?e[Bs]=o:c(i).invalidMonth=t});var io=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,so="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),oo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),no=Gs,ro=Gs;G("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),O("year","y"),L("year",1),Z("Y",Us),Z("YY",Os,Ys),Z("YYYY",As,Fs),Z("YYYYY",Es,Cs),Z("YYYYYY",Es,Cs),J(["YYYYY","YYYYYY"],qs),J("YYYY",function(e,i){i[qs]=2===e.length?t.parseTwoDigitYear(e):y(e)}),J("YY",function(e,i){i[qs]=t.parseTwoDigitYear(e)}),J("Y",function(t,e){e[qs]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var ao=E("FullYear",!0);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),L("week",5),L("isoWeek",5),Z("w",Os),Z("ww",Os,Ys),Z("W",Os),Z("WW",Os,Ys),tt(["w","ww","W","WW"],function(t,e,i,s){e[s.substr(0,1)]=y(t)});var ho={dow:0,doy:6};G("d",0,"do","day"),G("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),G("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),G("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),Z("d",Os),Z("e",Os),Z("E",Os),Z("dd",function(t,e){return e.weekdaysMinRegex(t)}),Z("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Z("dddd",function(t,e){return e.weekdaysRegex(t)}),tt(["dd","ddd","dddd"],function(t,e,i,s){var o=i._locale.weekdaysParse(t,s,i._strict);null!=o?e.d=o:c(i).invalidWeekday=t}),tt(["d","e","E"],function(t,e,i,s){e[s]=y(t)});var lo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),co="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),uo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),fo=Gs,po=Gs,_o=Gs;G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Nt),G("k",["kk",2],0,jt),G("hmm",0,0,function(){return""+Nt.apply(this)+I(this.minutes(),2)}),G("hmmss",0,0,function(){return""+Nt.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),It("a",!0),It("A",!1),O("hour","h"),L("hour",13),Z("a",Gt),Z("A",Gt),Z("H",Os),Z("h",Os),Z("HH",Os,Ys),Z("hh",Os,Ys),Z("hmm",Rs),Z("hmmss",Ws),Z("Hmm",Rs),Z("Hmmss",Ws),J(["H","HH"],Qs),J(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),J(["h","hh"],function(t,e,i){e[Qs]=y(t),c(i).bigHour=!0}),J("hmm",function(t,e,i){var s=t.length-2;e[Qs]=y(t.substr(0,s)),e[Xs]=y(t.substr(s)),c(i).bigHour=!0}),J("hmmss",function(t,e,i){var s=t.length-4,o=t.length-2;e[Qs]=y(t.substr(0,s)),e[Xs]=y(t.substr(s,2)),e[Ks]=y(t.substr(o)),c(i).bigHour=!0}),J("Hmm",function(t,e,i){var s=t.length-2;e[Qs]=y(t.substr(0,s)),e[Xs]=y(t.substr(s))}),J("Hmmss",function(t,e,i){var s=t.length-4,o=t.length-2;e[Qs]=y(t.substr(0,s)),e[Xs]=y(t.substr(s,2)),e[Ks]=y(t.substr(o))});var mo,go=/[ap]\.?m?\.?/i,yo=E("Hours",!0),vo={calendar:ys,longDateFormat:vs,invalidDate:"Invalid date",ordinal:"%d",ordinalParse:ws,relativeTime:bs,months:so,monthsShort:oo,week:ho,weekdays:lo,weekdaysMin:uo,weekdaysShort:co,meridiemParse:go},wo={},bo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,xo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ko=/Z|[+-]\d\d(?::?\d\d)?/,So=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Mo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Do=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=b("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var To=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=me.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:u()}),$o=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=me.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:u()}),Yo=function(){return Date.now?Date.now():+new Date};xe("Z",":"),xe("ZZ",""),Z("Z",js),Z("ZZ",js),J(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=ke(js,t)});var Po=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Fo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Co=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ae.fn=we.prototype;var Oo=je(1,"add"),Ro=je(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Wo=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),xi("gggg","weekYear"),xi("ggggg","weekYear"),xi("GGGG","isoWeekYear"),xi("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),Z("G",Us),Z("g",Us),Z("GG",Os,Ys),Z("gg",Os,Ys),Z("GGGG",As,Fs),Z("gggg",As,Fs),Z("GGGGG",Es,Cs),Z("ggggg",Es,Cs),tt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,s){e[s.substr(0,2)]=y(t)}),tt(["gg","GG"],function(e,i,s,o){i[o]=t.parseTwoDigitYear(e)}),G("Q",0,"Qo","quarter"),O("quarter","Q"),L("quarter",7),Z("Q",$s),J("Q",function(t,e){e[Bs]=3*(y(t)-1)}),G("D",["DD",2],"Do","date"),O("date","D"),L("date",9),Z("D",Os),Z("DD",Os,Ys),Z("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),J(["D","DD"],Zs),J("Do",function(t,e){e[Zs]=y(t.match(Os)[0],10)});var Lo=E("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),L("dayOfYear",4),Z("DDD",Ls),Z("DDDD",Ps),J(["DDD","DDDD"],function(t,e,i){i._dayOfYear=y(t)}),G("m",["mm",2],0,"minute"),O("minute","m"),L("minute",14),Z("m",Os),Z("mm",Os,Ys),J(["m","mm"],Xs);var Ao=E("Minutes",!1);G("s",["ss",2],0,"second"),O("second","s"),L("second",15),Z("s",Os),Z("ss",Os,Ys),J(["s","ss"],Ks);var Eo=E("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),L("millisecond",16),Z("S",Ls,$s),Z("SS",Ls,Ys),Z("SSS",Ls,Ps);var Ho;for(Ho="SSSS";Ho.length<=9;Ho+="S")Z(Ho,Hs);for(Ho="S";Ho.length<=9;Ho+="S")J(Ho,Fi);var Uo=E("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var No=_.prototype;No.add=Oo,No.calendar=Ve,No.clone=ze,No.diff=Je,No.endOf=di,No.format=si,No.from=oi,No.fromNow=ni,No.to=ri,No.toNow=ai,No.get=N,No.invalidAt=wi,No.isAfter=qe,No.isBefore=Be,No.isBetween=Ze,No.isSame=Qe,No.isSameOrAfter=Xe,No.isSameOrBefore=Ke,No.isValid=yi,No.lang=Wo,No.locale=hi,No.localeData=li,No.max=$o,No.min=To,No.parsingFlags=vi,No.set=j,No.startOf=ci,No.subtract=Ro,No.toArray=_i,No.toObject=mi,No.toDate=pi,No.toISOString=ii,No.toJSON=gi,No.toString=ei,No.unix=fi,No.valueOf=ui,No.creationData=bi,No.year=ao,No.isLeapYear=_t,No.weekYear=ki,No.isoWeekYear=Si,No.quarter=No.quarters=Yi,No.month=ht,No.daysInMonth=lt,No.week=No.weeks=Mt,No.isoWeek=No.isoWeeks=Dt,No.weeksInYear=Di,No.isoWeeksInYear=Mi,No.date=Lo,No.day=No.days=Rt,No.weekday=Wt,No.isoWeekday=Lt,No.dayOfYear=Pi,No.hour=No.hours=yo,No.minute=No.minutes=Ao,No.second=No.seconds=Eo,No.millisecond=No.milliseconds=Uo,No.utcOffset=De,No.utc=$e,No.local=Ye,No.parseZone=Pe,No.hasAlignedHourOffset=Fe,No.isDST=Ce,No.isLocal=Re,No.isUtcOffset=We,No.isUtc=Le,No.isUTC=Le,No.zoneAbbr=Ci,No.zoneName=Oi,No.dates=b("dates accessor is deprecated. Use date instead.",Lo),No.months=b("months accessor is deprecated. Use month instead",ht),No.years=b("years accessor is deprecated. Use year instead",ao),No.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Te),No.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Oe);var jo=No,Io=D.prototype;Io.calendar=T,Io.longDateFormat=$,Io.invalidDate=Y,Io.ordinal=P,Io.preparse=Li,Io.postformat=Li,Io.relativeTime=F,Io.pastFuture=C,Io.set=S,Io.months=st,Io.monthsShort=ot,Io.monthsParse=rt,Io.monthsRegex=dt,Io.monthsShortRegex=ct,Io.week=xt,Io.firstDayOfYear=St,Io.firstDayOfWeek=kt,Io.weekdays=Yt,Io.weekdaysMin=Ft,Io.weekdaysShort=Pt,Io.weekdaysParse=Ot,Io.weekdaysRegex=At,Io.weekdaysShortRegex=Et,Io.weekdaysMinRegex=Ht,Io.isPM=Vt,Io.meridiem=zt,Qt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=b("moment.lang is deprecated. Use moment.locale instead.",Qt),t.langData=b("moment.langData is deprecated. Use moment.localeData instead.",Jt);var Go=Math.abs,Vo=es("ms"),zo=es("s"),qo=es("m"),Bo=es("h"),Zo=es("d"),Qo=es("w"),Xo=es("M"),Ko=es("y"),Jo=ss("milliseconds"),tn=ss("seconds"),en=ss("minutes"),sn=ss("hours"),on=ss("days"),nn=ss("months"),rn=ss("years"),an=Math.round,hn={s:45,m:45,h:22,d:26,M:11},ln=Math.abs,cn=we.prototype;return cn.abs=Vi,cn.add=qi,cn.subtract=Bi,cn.as=Ji,cn.asMilliseconds=Vo,cn.asSeconds=zo,cn.asMinutes=qo,cn.asHours=Bo,cn.asDays=Zo,cn.asWeeks=Qo,cn.asMonths=Xo,cn.asYears=Ko,cn.valueOf=ts,cn._bubble=Qi,cn.get=is,cn.milliseconds=Jo,cn.seconds=tn,cn.minutes=en,cn.hours=sn,cn.days=on,cn.weeks=os,cn.months=nn,cn.years=rn,cn.humanize=ls,cn.toISOString=cs,cn.toString=cs,cn.toJSON=cs,cn.locale=hi,cn.localeData=li,cn.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cs),cn.lang=Wo,G("X",0,0,"unix"),G("x",0,0,"valueOf"),Z("x",Us),Z("X",Is),J("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),J("x",function(t,e,i){i._d=new Date(y(t))}),t.version="2.14.1",function(t){ds=t}(me),t.fn=jo,t.min=ye,t.max=ve,t.now=Yo,t.utc=h,t.unix=Ri,t.months=Ui,t.isDate=o,t.locale=Qt,t.invalid=u,t.duration=Ae,t.isMoment=m,t.weekdays=ji,t.parseZone=Wi,t.localeData=Jt,t.isDuration=be,t.monthsShort=Ni,t.weekdaysMin=Gi,t.defineLocale=Xt,t.updateLocale=Kt,t.locales=te,t.weekdaysShort=Ii,t.normalizeUnits=R,t.relativeTimeRounding=as,t.relativeTimeThreshold=hs,t.calendarFormat=Ge,t.prototype=jo,t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?e(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(t.moment)}(this,function(t){"use strict";return t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){t(e,document,window,navigator)}):t(jQuery,document,window,navigator)}(function(t,e,i,s,o){var n=0,r=function(){var e=s.userAgent,i=/msie\s\d+/i;return 0<e.search(i)&&(e=i.exec(e).toString(),9>(e=e.split(" ")[1]))&&(t("html").addClass("lt-ie9"),!0)}();Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=[].slice;if("function"!=typeof e)throw new TypeError;var s=i.call(arguments,1),o=function(){if(this instanceof o){var n=function(){};n.prototype=e.prototype;var n=new n,r=e.apply(n,s.concat(i.call(arguments)));return Object(r)===r?r:n}return e.apply(t,s.concat(i.call(arguments)))};return o}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var s=Object(this),o=s.length>>>0;if(0===o)return-1;if(i=+e||0,1/0===Math.abs(i)&&(i=0),i>=o)return-1;for(i=Math.max(0<=i?i:o-Math.abs(i),0);i<o;){if(i in s&&s[i]===t)return i;i++}return-1});var a=function(s,o,n){this.VERSION="2.1.4",this.input=s,this.plugin_count=n,this.old_to=this.old_from=this.update_tm=this.calc_count=this.current_plugin=0,this.raf_id=this.old_min_interval=null,this.is_update=this.is_key=this.no_diapason=this.force_redraw=this.dragging=!1,this.is_start=!0,this.is_click=this.is_resize=this.is_active=this.is_finish=!1,this.$cache={win:t(i),body:t(e.body),input:t(s),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var r=this.$cache.input;s=r.prop("value");var a;n={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!1,keyboard_step:5,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,onStart:null,onChange:null,onFinish:null,onUpdate:null},r={type:r.data("type"),min:r.data("min"),max:r.data("max"),from:r.data("from"),to:r.data("to"),step:r.data("step"),min_interval:r.data("minInterval"),max_interval:r.data("maxInterval"),drag_interval:r.data("dragInterval"),values:r.data("values"),from_fixed:r.data("fromFixed"),from_min:r.data("fromMin"),from_max:r.data("fromMax"),from_shadow:r.data("fromShadow"),to_fixed:r.data("toFixed"),to_min:r.data("toMin"),to_max:r.data("toMax"),to_shadow:r.data("toShadow"),prettify_enabled:r.data("prettifyEnabled"),prettify_separator:r.data("prettifySeparator"),force_edges:r.data("forceEdges"),keyboard:r.data("keyboard"),keyboard_step:r.data("keyboardStep"),grid:r.data("grid"),grid_margin:r.data("gridMargin"),grid_num:r.data("gridNum"),grid_snap:r.data("gridSnap"),hide_min_max:r.data("hideMinMax"),hide_from_to:r.data("hideFromTo"),prefix:r.data("prefix"),postfix:r.data("postfix"),max_postfix:r.data("maxPostfix"),decorate_both:r.data("decorateBoth"),values_separator:r.data("valuesSeparator"),input_values_separator:r.data("inputValuesSeparator"),disable:r.data("disable")},r.values=r.values&&r.values.split(",");for(a in r)r.hasOwnProperty(a)&&(r[a]||0===r[a]||delete r[a]);s&&(s=s.split(r.input_values_separator||o.input_values_separator||";"),s[0]&&s[0]==+s[0]&&(s[0]=+s[0]),s[1]&&s[1]==+s[1]&&(s[1]=+s[1]),o&&o.values&&o.values.length?(n.from=s[0]&&o.values.indexOf(s[0]),n.to=s[1]&&o.values.indexOf(s[1])):(n.from=s[0]&&+s[0],n.to=s[1]&&+s[1])),t.extend(n,o),t.extend(n,r),this.options=n,this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};a.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){this.$cache.input.before('<span class="irs js-irs-'+this.plugin_count+'"></span>'),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.cont.removeClass("irs-disabled"),this.$cache.input[0].disabled=!1,this.bindEvents()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.max,e=this.options.to;this.options.from>this.options.min&&e===t?this.$cache.s_from.addClass("type_last"):e<t&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),r&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),r&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerMove:function(t){this.dragging&&(this.coords.x_pointer=(t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX)-this.coords.x_gap,this.calc())},pointerUp:function(e){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,r&&t("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(t.contains(this.$cache.cont[0],e.target)||this.dragging)&&(this.is_finish=!0,this.callOnFinish()),this.dragging=!1)},pointerDown:function(e,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===e&&this.setTempMinInterval(),e||(e=this.target),this.current_plugin=this.plugin_count,this.target=e,this.dragging=this.is_active=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=s-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(e),r&&t("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,e=t?e+this.options.keyboard_step:e-this.options.keyboard_step;this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){
this.options&&(this.options.hide_min_max?(this.$cache.min[0].style.display="none",this.$cache.max[0].style.display="none"):(this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)))},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,(10===this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){switch(this.calcPointerPercent(),t=this.getHandleX(),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,t=this.getHandleX(),this.target=this.options.drag_interval?"both_one":this.chooseHandle(t)),this.target){case"base":var e=(this.options.max-this.options.min)/100;t=(this.result.from-this.options.min)/e,e=(this.result.to-this.options.min)/e,this.coords.p_single_real=this.toFixed(t),this.coords.p_from_real=this.toFixed(t),this.coords.p_to_real=this.toFixed(e),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(t),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(t),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(t),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;t=this.toFixed(t+.1*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(t)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(t)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(!this.options.from_fixed&&!this.options.to_fixed){var i=this.convertToRealPercent(t);t=this.result.to_percent-this.result.from_percent;var s=t/2,e=i-s,i=i+s;0>e&&(e=0,i=e+t),100<i&&(i=100,e=i-t),this.coords.p_from_real=this.calcWithStep(e),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(i),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(0>this.coords.x_pointer||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return 0>e?e=0:e>t&&(e=t),e},calcHandlePercent:function(){this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":t>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to)),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||this.$cache.input.trigger("change"),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_click=this.is_key=!1,this.callOnFinish()),this.is_finish=this.is_resize=this.is_update=!1),this.force_redraw=this.is_click=this.is_key=this.is_start=!1))},drawLabels:function(){if(this.options){var t,e=this.options.values.length,i=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)e=e?this.decorate(i[this.result.from]):this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(e),this.calcLabels(),this.$cache.min[0].style.visibility=this.labels.p_single_left<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?"hidden":"visible";else{e?(this.options.decorate_both?(e=this.decorate(i[this.result.from]),e+=this.options.values_separator,e+=this.decorate(i[this.result.to])):e=this.decorate(i[this.result.from]+this.options.values_separator+i[this.result.to]),t=this.decorate(i[this.result.from]),i=this.decorate(i[this.result.to])):(this.options.decorate_both?(e=this.decorate(this._prettify(this.result.from),this.result.from),e+=this.options.values_separator,e+=this.decorate(this._prettify(this.result.to),this.result.to)):e=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to),t=this.decorate(this._prettify(this.result.from),this.result.from),i=this.decorate(this._prettify(this.result.to),this.result.to)),this.$cache.single.html(e),this.$cache.from.html(t),this.$cache.to.html(i),this.calcLabels(),i=Math.min(this.labels.p_single_left,this.labels.p_from_left),e=this.labels.p_single_left+this.labels.p_single_fake,t=this.labels.p_to_left+this.labels.p_to_fake;var s=Math.max(e,t);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",s=t):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",s=Math.max(e,t))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),this.$cache.min[0].style.visibility=i<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=s>100-this.labels.p_max-1?"hidden":"visible"}}},drawShadow:function(){var t=this.options,e=this.$cache,i="number"==typeof t.from_min&&!isNaN(t.from_min),s="number"==typeof t.from_max&&!isNaN(t.from_max),o="number"==typeof t.to_min&&!isNaN(t.to_min),n="number"==typeof t.to_max&&!isNaN(t.to_max);"single"===t.type?t.from_shadow&&(i||s)?(i=this.convertToPercent(i?t.from_min:t.min),s=this.convertToPercent(s?t.from_max:t.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),s=this.toFixed(s-this.coords.p_handle/100*s),i+=this.coords.p_handle/2,e.shad_single[0].style.display="block",e.shad_single[0].style.left=i+"%",e.shad_single[0].style.width=s+"%"):e.shad_single[0].style.display="none":(t.from_shadow&&(i||s)?(i=this.convertToPercent(i?t.from_min:t.min),s=this.convertToPercent(s?t.from_max:t.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),s=this.toFixed(s-this.coords.p_handle/100*s),i+=this.coords.p_handle/2,e.shad_from[0].style.display="block",e.shad_from[0].style.left=i+"%",e.shad_from[0].style.width=s+"%"):e.shad_from[0].style.display="none",t.to_shadow&&(o||n)?(o=this.convertToPercent(o?t.to_min:t.min),t=this.convertToPercent(n?t.to_max:t.max)-o,o=this.toFixed(o-this.coords.p_handle/100*o),t=this.toFixed(t-this.coords.p_handle/100*t),o+=this.coords.p_handle/2,e.shad_to[0].style.display="block",e.shad_to[0].style.left=o+"%",e.shad_to[0].style.width=t+"%"):e.shad_to[0].style.display="none")},callOnStart:function(){this.options.onStart&&"function"==typeof this.options.onStart&&this.options.onStart(this.result)},callOnChange:function(){this.options.onChange&&"function"==typeof this.options.onChange&&this.options.onChange(this.result)},callOnFinish:function(){this.options.onFinish&&"function"==typeof this.options.onFinish&&this.options.onFinish(this.result)},callOnUpdate:function(){this.options.onUpdate&&"function"==typeof this.options.onUpdate&&this.options.onUpdate(this.result)},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},convertToPercent:function(t,e){var i=this.options.max-this.options.min;return i?this.toFixed((e?t:t-this.options.min)/(i/100)):(this.no_diapason=!0,0)},convertToValue:function(t){var e,i,s=this.options.min,o=this.options.max,n=s.toString().split(".")[1],r=o.toString().split(".")[1],a=0,h=0;return 0===t?this.options.min:100===t?this.options.max:(n&&(a=e=n.length),r&&(a=i=r.length),e&&i&&(a=e>=i?e:i),0>s&&(h=Math.abs(s),s=+(s+h).toFixed(a),o=+(o+h).toFixed(a)),t=(o-s)/100*t+s,(s=this.options.step.toString().split(".")[1])?t=+t.toFixed(s.length):(t/=this.options.step,t*=this.options.step,t=+t.toFixed(0)),h&&(t-=h),h=s?+t.toFixed(s.length):this.toFixed(t),h<this.options.min?h=this.options.min:h>this.options.max&&(h=this.options.max),h)},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return 100<e&&(e=100),100===t&&(e=100),this.toFixed(e)},checkMinInterval:function(t,e,i){var s=this.options;return s.min_interval?(t=this.convertToValue(t),e=this.convertToValue(e),"from"===i?e-t<s.min_interval&&(t=e-s.min_interval):t-e<s.min_interval&&(t=e+s.min_interval),this.convertToPercent(t)):t},checkMaxInterval:function(t,e,i){var s=this.options;return s.max_interval?(t=this.convertToValue(t),e=this.convertToValue(e),"from"===i?e-t>s.max_interval&&(t=e-s.max_interval):t-e>s.max_interval&&(t=e+s.max_interval),this.convertToPercent(t)):t},checkDiapason:function(t,e,i){t=this.convertToValue(t);var s=this.options;return"number"!=typeof e&&(e=s.min),"number"!=typeof i&&(i=s.max),t<e&&(t=e),t>i&&(t=i),this.convertToPercent(t)},toFixed:function(t){return+(t=t.toFixed(9))},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges?(0>t?t=0:t>100-e&&(t=100-e),this.toFixed(t)):this.toFixed(t)},validate:function(){var t,e,i=this.options,s=this.result,o=i.values,n=o.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.keyboard_step&&(i.keyboard_step=+i.keyboard_step),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),n)for(i.p_values=[],i.min=0,i.max=n-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,e=0;e<n;e++)t=+o[e],isNaN(t)?t=o[e]:(o[e]=t,t=this._prettify(t)),i.p_values.push(t);("number"!=typeof i.from||isNaN(i.from))&&(i.from=i.min),("number"!=typeof i.to||isNaN(i.from))&&(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):((i.from<i.min||i.from>i.max)&&(i.from=i.min),(i.to>i.max||i.to<i.min)&&(i.to=i.max),i.from>i.to&&(i.from=i.to)),("number"!=typeof i.step||isNaN(i.step)||!i.step||0>i.step)&&(i.step=1),("number"!=typeof i.keyboard_step||isNaN(i.keyboard_step)||!i.keyboard_step||0>i.keyboard_step)&&(i.keyboard_step=5),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),s&&(s.min!==i.min&&(s.min=i.min),s.max!==i.max&&(s.max=i.max),(s.from<s.min||s.from>s.max)&&(s.from=i.from),(s.to<s.min||s.to>s.max)&&(s.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||0>i.min_interval)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||0>i.max_interval)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(t,e){var i="",s=this.options;return s.prefix&&(i+=s.prefix),i+=t,s.max_postfix&&(s.values.length&&t===s.p_values[s.max]?(i+=s.max_postfix,s.postfix&&(i+=" ")):e===s.max&&(i+=s.max_postfix,s.postfix&&(i+=" "))),s.postfix&&(i+=s.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,e,i=this.options;t=i.max-i.min;var s,o,n=i.grid_num,r=0,a=0,h=4,l=0,c="";for(this.calcGridMargin(),i.grid_snap?(n=t/i.step,r=this.toFixed(i.step/(t/100))):r=this.toFixed(100/n),4<n&&(h=3),7<n&&(h=2),14<n&&(h=1),28<n&&(h=0),t=0;t<n+1;t++){for(s=h,a=this.toFixed(r*t),100<a&&(a=100,0>(s-=2)&&(s=0)),this.coords.big[t]=a,o=(a-r*(t-1))/(s+1),e=1;e<=s&&0!==a;e++)l=this.toFixed(a-o*e),c+='<span class="irs-grid-pol small" style="left: '+l+'%"></span>';c+='<span class="irs-grid-pol" style="left: '+a+'%"></span>',l=this.convertToValue(a),l=i.values.length?i.p_values[l]:this._prettify(l),c+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+a+'%">'+l+"</span>"}this.coords.big_num=Math.ceil(n+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(c),this.cacheGridLabels()}},cacheGridLabels:function(){var t,e,i=this.coords.big_num;for(e=0;e<i;e++)t=this.$cache.grid.find(".js-grid-text-"+e),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,e;e=[];var i=[],s=this.coords.big_num;for(t=0;t<s;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),e[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),i[t]=this.toFixed(e[t]+this.coords.big_p[t]);for(this.options.force_edges&&(e[0]<-this.coords.grid_gap&&(e[0]=-this.coords.grid_gap,i[0]=this.toFixed(e[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),i[s-1]>100+this.coords.grid_gap&&(i[s-1]=100+this.coords.grid_gap,e[s-1]=this.toFixed(i[s-1]-this.coords.big_p[s-1]),this.coords.big_x[s-1]=this.toFixed(this.coords.big_p[s-1]-this.coords.grid_gap))),this.calcGridCollision(2,e,i),this.calcGridCollision(4,e,i),t=0;t<s;t++)e=this.$cache.grid_labels[t][0],e.style.marginLeft=-this.coords.big_x[t]+"%"},calcGridCollision:function(t,e,i){var s,o,n,r=this.coords.big_num;for(s=0;s<r&&!((o=s+t/2)>=r);s+=t)n=this.$cache.grid_labels[o][0],n.style.visibility=i[s]<=e[o]?"visible":"hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(e){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.options=t.extend(this.options,e),this.validate(),this.updateResult(e),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),t.data(this.input,"ionRangeSlider",null),this.remove(),this.options=this.input=null)}},t.fn.ionRangeSlider=function(e){return this.each(function(){t.data(this,"ionRangeSlider")||t.data(this,"ionRangeSlider",new a(this,e,n++))})},function(){for(var t=0,e=["ms","moz","webkit","o"],s=0;s<e.length&&!i.requestAnimationFrame;++s)i.requestAnimationFrame=i[e[s]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[e[s]+"CancelAnimationFrame"]||i[e[s]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(e,s){var o=(new Date).getTime(),n=Math.max(0,16-(o-t)),r=i.setTimeout(function(){e(o+n)},n);return t=o+n,r}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(t){clearTimeout(t)})}()}),function(t){"use strict";"object"==typeof module&&"object"==typeof module.exports?t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,i,s){"use strict";if(!e.history.pushState)return t.fn.smoothState=function(){return this},void(t.fn.smoothState.options={});if(!t.fn.smoothState){var o=t("html, body"),n=e.console,r={debug:!1,anchors:"a",hrefRegex:"",forms:"form",allowFormCaching:!1,repeatDelay:500,blacklist:".no-smoothState",prefetch:!1,prefetchOn:"mouseover touchstart",prefetchBlacklist:".no-prefetch",locationHeader:"X-SmoothState-Location",cacheLength:0,loadingClass:"is-loading",scroll:!0,alterRequest:function(t){return t},alterChangeState:function(t,e,i){return t},onBefore:function(t,e){},onStart:{duration:0,render:function(t){}},onProgress:{duration:0,render:function(t){}},onReady:{duration:0,render:function(t,e){t.html(e)}},onAfter:function(t,e){}},a={isExternal:function(t){var i=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof i[1]&&i[1].length>0&&i[1].toLowerCase()!==e.location.protocol||"string"==typeof i[2]&&i[2].length>0&&i[2].replace(new RegExp(":("+{"http:":80,"https:":443}[e.location.protocol]+")?$"),"")!==e.location.host},stripHash:function(t){return t.replace(/#.*/,"")},isHash:function(t,i){i=i||e.location.href;var s=t.indexOf("#")>-1,o=a.stripHash(t)===a.stripHash(i);return s&&o},translate:function(e){var i={dataType:"html",type:"GET"};return e="string"==typeof e?t.extend({},i,{url:e}):t.extend({},i,e)},shouldLoadAnchor:function(t,e,i){var o=t.prop("href");return!(a.isExternal(o)||a.isHash(o)||t.is(e)||t.prop("target")||typeof i!==s&&""!==i&&-1===t.prop("href").search(i))},clearIfOverCapacity:function(t,e){return Object.keys||(Object.keys=function(t){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),Object.keys(t).length>e&&(t={}),t},storePageIn:function(e,i,s,o,n,r){var a=t("<html></html>").append(t(s));return void 0===n&&(n={}),void 0===r&&(r=i),e[i]={status:"loaded",title:a.find("title").first().text(),html:a.find("#"+o),doc:s,state:n,destUrl:r},e},triggerAllAnimationEndEvent:function(e,i){i=" "+i||"";var s=0,o=function(i){t(i.delegateTarget).is(e)&&(i.stopPropagation(),s++)},n=function(i){t(i.delegateTarget).is(e)&&(i.stopPropagation(),0===--s&&e.trigger("allanimationend"))};e.on("animationstart webkitAnimationStart oanimationstart MSAnimationStart",o),e.on("animationend webkitAnimationEnd oanimationend MSAnimationEnd",n),e.on("allanimationend"+i,function(){s=0,a.redraw(e)})},redraw:function(t){t.height()}},h=function(i){if(null!==i.state){var s=e.location.href,o=t("#"+i.state.id),n=o.data("smoothState"),r=n.href!==s&&!a.isHash(s,n.href),h=i.state!==n.cache[n.href].state;(r||h)&&(h&&n.clear(n.href),n.load(s,!1))}},l=function(r,h){var l=t(r),c=l.prop("id"),d=null,u=!1,f={},p={},_=e.location.href,m=function(t){t=t||!1,t&&f.hasOwnProperty(t)?delete f[t]:f={},l.data("smoothState").cache=f},g=function(e,i){i=i||t.noop;var s=a.translate(e);if(f=a.clearIfOverCapacity(f,h.cacheLength),!f.hasOwnProperty(s.url)||void 0!==s.data){f[s.url]={status:"fetching"};var o=t.ajax(s);o.done(function(t){a.storePageIn(f,s.url,t,c),l.data("smoothState").cache=f}),o.fail(function(){f[s.url].status="error"}),h.locationHeader&&o.always(function(t,e,i){var o=t.statusCode?t:i,n=o.getResponseHeader(h.locationHeader);n&&(f[s.url].destUrl=n)}),i&&o.always(i)}},y=function(){if(d){var e=t(d,l);if(e.length){var i=e.offset().top;o.scrollTop(i)}d=null}},v=function(s){var r="#"+c,a=f[s]?t(f[s].html.html()):null;a.length?(i.title=f[s].title,l.data("smoothState").href=s,h.loadingClass&&o.removeClass(h.loadingClass),h.onReady.render(l,a),l.one("ss.onReadyEnd",function(){u=!1,h.onAfter(l,a),h.scroll&&y(),T(l)}),e.setTimeout(function(){l.trigger("ss.onReadyEnd")},h.onReady.duration)):!a&&h.debug&&n?n.warn("No element with an id of "+r+" in response from "+s+" in "+f):e.location=s},w=function(t,i,s){var r=a.translate(t);void 0===i&&(i=!0),void 0===s&&(s=!0);var d=!1,u=!1,_={loaded:function(){var t=d?"ss.onProgressEnd":"ss.onStartEnd";if(u&&d?u&&v(r.url):l.one(t,function(){v(r.url),s||m(r.url)}),i){var o=f[r.url].destUrl;p=h.alterChangeState({id:c},f[r.url].title,o),f[r.url].state=p,e.history.pushState(p,f[r.url].title,o)}u&&!s&&m(r.url)},fetching:function(){d||(d=!0,l.one("ss.onStartEnd",function(){h.loadingClass&&o.addClass(h.loadingClass),h.onProgress.render(l),e.setTimeout(function(){l.trigger("ss.onProgressEnd"),u=!0},h.onProgress.duration)})),e.setTimeout(function(){f.hasOwnProperty(r.url)&&_[f[r.url].status]()},10)},error:function(){h.debug&&n?n.log("There was an error loading: "+r.url):e.location=r.url}};f.hasOwnProperty(r.url)||g(r),h.onStart.render(l),e.setTimeout(function(){h.scroll&&o.scrollTop(0),l.trigger("ss.onStartEnd")},h.onStart.duration),_[f[r.url].status]()},b=function(e){var i,s=t(e.currentTarget);a.shouldLoadAnchor(s,h.blacklist,h.hrefRegex)&&!u&&(e.stopPropagation(),i=a.translate(s.prop("href")),i=h.alterRequest(i),g(i))},x=function(e){var i=t(e.currentTarget);if(!e.metaKey&&!e.ctrlKey&&a.shouldLoadAnchor(i,h.blacklist,h.hrefRegex)&&(e.stopPropagation(),e.preventDefault(),!M())){D();var s=a.translate(i.prop("href"));u=!0,d=i.prop("hash"),s=h.alterRequest(s),h.onBefore(i,l),w(s)}},k=function(e){var i=t(e.currentTarget);if(!i.is(h.blacklist)&&(e.preventDefault(),e.stopPropagation(),!M())){D();var o={url:i.prop("action"),data:i.serialize(),type:i.prop("method")};u=!0,o=h.alterRequest(o),"get"===o.type.toLowerCase()&&(o.url=o.url+"?"+o.data),h.onBefore(i,l),w(o,s,h.allowFormCaching)}},S=0,M=function(){var t=null===h.repeatDelay,e=parseInt(Date.now())>S;return!(t||e)},D=function(){S=parseInt(Date.now())+parseInt(h.repeatDelay)},T=function(t){h.anchors&&h.prefetch&&t.find(h.anchors).not(h.prefetchBlacklist).on(h.prefetchOn,null,b)},$=function(){var t=l.prop("class");l.removeClass(t),a.redraw(l),l.addClass(t)};return h=t.extend({},t.fn.smoothState.options,h),null===e.history.state?(p=h.alterChangeState({id:c},i.title,_),e.history.replaceState(p,i.title,_)):p={},a.storePageIn(f,_,i.documentElement.outerHTML,c,p),a.triggerAllAnimationEndEvent(l,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),function(t){h.anchors&&(t.on("click",h.anchors,x),T(t)),h.forms&&t.on("submit",h.forms,k)}(l),{href:_,cache:f,clear:m,load:w,fetch:g,restartCSSAnimations:$}},c=function(e){return this.each(function(){var i=this.tagName.toLowerCase();this.id&&"body"!==i&&"html"!==i&&!t.data(this,"smoothState")?t.data(this,"smoothState",new l(this,e)):!this.id&&n?n.warn("Every smoothState container needs an id but the following one does not have one:",this):"body"!==i&&"html"!==i||!n||n.warn("The smoothstate container cannot be the "+this.tagName+" tag")})};e.onpopstate=h,t.smoothStateUtility=a,t.fn.smoothState=c,t.fn.smoothState.options=r}}),function(){"use strict";function t(s){if(!s)throw new Error("No options passed to Waypoint constructor");if(!s.element)throw new Error("No element option passed to Waypoint constructor");if(!s.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,s),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=s.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({
name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var s in i)e.push(i[s]);for(var o=0,n=e.length;n>o;o++)e[o][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,s[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,s={},o=window.Waypoint,n=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete s[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,o.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||o.isTouch)&&(e.didScroll=!0,o.requestAnimationFrame(t))})},e.prototype.handleResize=function(){o.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var s=e[i],o=s.newScroll>s.oldScroll,n=o?s.forward:s.backward;for(var r in this.waypoints[i]){var a=this.waypoints[i][r],h=s.oldScroll<a.triggerPoint,l=s.newScroll>=a.triggerPoint,c=h&&l,d=!h&&!l;(c||d)&&(a.queueTrigger(n),t[a.group.id]=a.group)}}for(var u in t)t[u].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var s=0,o=t.length;o>s;s++)t[s].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),s={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var n in t){var r=t[n];for(var a in this.waypoints[n]){var h,l,c,d,u,f=this.waypoints[n][a],p=f.options.offset,_=f.triggerPoint,m=0,g=null==_;f.element!==f.element.window&&(m=f.adapter.offset()[r.offsetProp]),"function"==typeof p?p=p.apply(f):"string"==typeof p&&(p=parseFloat(p),f.options.offset.indexOf("%")>-1&&(p=Math.ceil(r.contextDimension*p/100))),h=r.contextScroll-r.contextOffset,f.triggerPoint=m+h-p,l=_<r.oldScroll,c=f.triggerPoint>=r.oldScroll,d=l&&c,u=!l&&!c,!g&&d?(f.queueTrigger(r.backward),s[f.group.id]=f.group):!g&&u?(f.queueTrigger(r.forward),s[f.group.id]=f.group):g&&r.oldScroll>=f.triggerPoint&&(f.queueTrigger(r.forward),s[f.group.id]=f.group)}}return o.requestAnimationFrame(function(){for(var t in s)s[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in s)s[t].refresh()},e.findByElement=function(t){return s[t.waypointContextKey]},window.onload=function(){n&&n(),e.refreshAll()},o.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},o.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),s[this.axis][this.name]=this}var s={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var s=this.triggerQueues[i],o="up"===i||"left"===i;s.sort(o?e:t);for(var n=0,r=s.length;r>n;n+=1){var a=s[n];(a.options.continuous||n===s.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints);return i===this.waypoints.length-1?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=o.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=o.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return s[t.axis][t.name]||new i(t)},o.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,s){t[s]=e[s]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],s=arguments[0];return t.isFunction(arguments[0])&&(s=t.extend({},arguments[1]),s.handler=arguments[0]),this.each(function(){var o=t.extend({},s,{element:this});"string"==typeof o.context&&(o.context=t(this).closest(o.context)[0]),i.push(new e(o))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),function(t){var e=function(e){var i=this;e=e||{},"string"==typeof e&&(e={elements:e}),this.sel=null,this.textSelection="",this.htmlSelection="",this.appId=t('meta[property="fb:app_id"]').attr("content")||t('meta[property="fb:app_id"]').attr("value"),this.url2share=t('meta[property="og:url"]').attr("content")||t('meta[property="og:url"]').attr("value")||window.location.href,this.getSelectionText=function(t){var e="",s="";if(t=t||window.getSelection(),t.rangeCount){for(var o=document.createElement("div"),n=0,r=t.rangeCount;r>n;++n)o.appendChild(t.getRangeAt(n).cloneContents());s=o.textContent,e=o.innerHTML}return i.textSelection=s,i.htmlSelection=e||s,s},this.selectionDirection=function(t){var e=t||window.getSelection(),i=document.createRange();if(!e.anchorNode)return 0;i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset);var s=i.collapsed?"backward":"forward";return i.detach(),s},this.showPopunder=function(){i.popunder=i.popunder||document.getElementById("selectionSharerPopunder");var t=window.getSelection(),e=i.getSelectionText(t);if(t.isCollapsed||e.length<10||!e.match(/ /))return i.hidePopunder();if(i.popunder.classList.contains("fixed"))return i.popunder.style.bottom=0,i.popunder.style.bottom;var s=t.getRangeAt(0),o=s.endContainer.parentNode;if(i.popunder.classList.contains("show")){if(Math.ceil(i.popunder.getBoundingClientRect().top)==Math.ceil(o.getBoundingClientRect().bottom))return;return i.hidePopunder(i.showPopunder)}if(o.nextElementSibling)i.pushSiblings(o);else{i.placeholder||(i.placeholder=document.createElement("div"),i.placeholder.className="selectionSharerPlaceholder");var n=window.getComputedStyle(o).marginBottom;i.placeholder.style.height=n,i.placeholder.style.marginBottom=-2*parseInt(n,10)+"px",o.parentNode.insertBefore(i.placeholder)}var r=window.pageYOffset+o.getBoundingClientRect().bottom;i.popunder.style.top=Math.ceil(r)+"px",setTimeout(function(){i.placeholder&&i.placeholder.classList.add("show"),i.popunder.classList.add("show")},0)},this.pushSiblings=function(t){for(;t=t.nextElementSibling;)t.classList.add("selectionSharer"),t.classList.add("moveDown")},this.hidePopunder=function(t){if(t=t||function(){},"fixed"==i.popunder)return i.popunder.style.bottom="-50px",t();i.popunder.classList.remove("show"),i.placeholder&&i.placeholder.classList.remove("show");for(var e=document.getElementsByClassName("moveDown");el=e[0];)el.classList.remove("moveDown");setTimeout(function(){i.placeholder&&document.body.insertBefore(i.placeholder),t()},600)},this.show=function(t){setTimeout(function(){var e=window.getSelection(),s=i.getSelectionText(e);if(!e.isCollapsed&&s&&s.length>10&&s.match(/ /)){var o=e.getRangeAt(0),n=o.getBoundingClientRect().top-5,r=n+i.getPosition().y-i.$popover.height(),a=0;if(t)a=t.pageX;else{var h=e.anchorNode.parentNode;a+=h.offsetWidth/2;do{a+=h.offsetLeft}while(h=h.offsetParent)}switch(i.selectionDirection(e)){case"forward":a-=i.$popover.width();break;case"backward":a+=i.$popover.width();break;default:return}i.$popover.removeClass("anim").css("top",r+10).css("left",a).show(),setTimeout(function(){i.$popover.addClass("anim").css("top",r)},0)}},10)},this.hide=function(t){i.$popover.hide()},this.smart_truncate=function(t,e){if(!t||!t.length)return t;var i=t.length>e,s=i?t.substr(0,e-1):t;return s=i?s.substr(0,s.lastIndexOf(" ")):s,i?s+"...":s},this.getRelatedTwitterAccounts=function(){var e=[],i=t('meta[name="twitter:creator"]').attr("content")||t('meta[name="twitter:creator"]').attr("value");i&&e.push(i);for(var s=document.getElementsByTagName("a"),o=0,n=s.length;n>o;o++)if(s[o].attributes.href&&"string"==typeof s[o].attributes.href.value){var r=s[o].attributes.href.value.match(/^https?:\/\/twitter\.com\/([a-z0-9_]{1,20})/i);r&&r.length>1&&-1==["widgets","intent"].indexOf(r[1])&&e.push(r[1])}return e.length>0?e.join(","):""},this.shareTwitter=function(t){t.preventDefault();var e="“"+i.smart_truncate(i.textSelection.trim(),114)+"”",s="http://twitter.com/intent/tweet?text="+encodeURIComponent(e)+"&related="+i.relatedTwitterAccounts+"&url="+encodeURIComponent(window.location.href);i.viaTwitterAccount&&e.length<114-i.viaTwitterAccount.length&&(s+="&via="+i.viaTwitterAccount);var o=screen.width/2-320,n=screen.height/2-220-100;return window.open(s,"share_twitter","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=640, height=440, top="+n+", left="+o),i.hide(),!1},this.shareFacebook=function(t){t.preventDefault();var e=i.htmlSelection.replace(/<p[^>]*>/gi,"\n").replace(/<\/p>|  /gi,"").trim(),s="https://www.facebook.com/dialog/feed?app_id="+i.appId+"&display=popup&caption="+encodeURIComponent(e)+"&link="+encodeURIComponent(i.url2share)+"&href="+encodeURIComponent(i.url2share)+"&redirect_uri="+encodeURIComponent(i.url2share),o=screen.width/2-320,n=screen.height/2-220-100;window.open(s,"share_facebook","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=640, height=440, top="+n+", left="+o)},this.shareEmail=function(e){var s=i.textSelection.replace(/<p[^>]*>/gi,"\n").replace(/<\/p>|  /gi,"").trim(),o={};return o.subject=encodeURIComponent("Quote from "+document.title),o.body=encodeURIComponent("“"+s+"”")+"%0D%0A%0D%0AFrom: "+document.title+"%0D%0A"+window.location.href,t(this).attr("href","mailto:?subject="+o.subject+"&body="+o.body),i.hide(),!0},this.render=function(){i.$popover=t('<div class="selectionSharer" id="selectionSharerPopover" style="position:absolute;">  <div id="selectionSharerPopover-inner">    <ul>      <li><a class="action tweet" href="" title="Share this selection on Twitter" target="_blank">Tweet</a></li>      <li><a class="action facebook" href="" title="Share this selection on Facebook" target="_blank">Facebook</a></li>      <li><a class="action email" href="" title="Share this selection by email" target="_blank"><svg width="20" height="20"><path stroke="%23FFF" stroke-width="6" d="m16,25h82v60H16zl37,37q4,3 8,0l37-37M16,85l30-30m22,0 30,30"/></svg></a></li>    </ul>  </div>  <div class="selectionSharerPopover-clip"><span class="selectionSharerPopover-arrow"></span></div></div>'),i.$popover.find("a.tweet").click(i.shareTwitter),i.$popover.find("a.facebook").click(i.shareFacebook),i.$popover.find("a.email").click(i.shareEmail),t("body").append(i.$popover),i.$popunder=t('<div id="selectionSharerPopunder" class="selectionSharer">  <div id="selectionSharerPopunder-inner">    <label>Share this selection</label>    <ul>      <li><a class="action tweet" href="" title="Share this selection on Twitter" target="_blank">Tweet</a></li>      <li><a class="action facebook" href="" title="Share this selection on Facebook" target="_blank">Facebook</a></li>      <li><a class="action email" href="" title="Share this selection by email" target="_blank"><svg width="20" height="20"><path stroke="%23FFF" stroke-width="6" d="m16,25h82v60H16zl37,37q4,3 8,0l37-37M16,85l30-30m22,0 30,30"/></svg></a></li>    </ul>  </div></div>'),i.$popunder.find("a.tweet").click(i.shareTwitter),i.$popunder.find("a.facebook").click(i.shareFacebook),i.$popunder.find("a.email").click(i.shareEmail),t("body").append(i.$popunder),i.appId&&i.url2share&&t(".selectionSharer a.facebook").css("display","inline-block")},this.setElements=function(e){"string"==typeof e&&(e=t(e)),i.$elements=e instanceof t?e:t(e),i.$elements.mouseup(i.show).mousedown(i.hide).addClass("selectionShareable"),i.$elements.bind("touchstart",function(t){i.isMobile=!0}),document.onselectionchange=i.selectionChanged},this.selectionChanged=function(t){i.isMobile&&(i.lastSelectionChanged&&clearTimeout(i.lastSelectionChanged),i.lastSelectionChanged=setTimeout(function(){i.showPopunder(t)},300))},this.getPosition=function(){var t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||"");return{x:t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft,y:t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop}},this.render(),e.elements&&this.setElements(e.elements)};t.fn.selectionSharer=function(){return(new e).setElements(this),this},"function"==typeof define?define(function(){return e.load=function(t,i,s,o){(new e).setElements("p"),s()},e}):window.SelectionSharer=e}(jQuery),init();